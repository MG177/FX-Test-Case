<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="./styles/style.css" />
    <title>My Article</title>
  </head>
  <body>
    <div class="container">
      <!-- Logo -->
      <div class="logo">
        <img src="./img/Logo.ico" alt="Logo" class="logo-img" />
        <p class="logo-txt">LOGO</p>
      </div>

      <!-- Article -->
      <div class="article-container">
        <h2 class="article-title">Article Title</h2>
        <h4 class="article-time">1st Jan 2023</h4>
        <p class="article-content">
          Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nunc interdum ipsum sed nunc tristique, vel pretium leo scelerisque. Pellentesque rutrum velit ac dolor ullamcorper, quis interdum nibh porta. Quisque semper mollis purus sed molestie. Aenean elementum erat quis cursus ultrices. Proin fermentum ligula ligula, et imperdiet quam rhoncus in. Morbi sed dui a arcu tristique ultricies. Etiam eget enim eget nisl mollis fringilla sit amet at ante. Sed bibendum neque nec dolor pellentesque finibus. Proin quam ligula, ornare quis ex sed, interdum mattis dui. Pellentesque fringilla nisl sit amet nunc lacinia cursus. Sed tincidunt erat mi, non posuere nibh rutrum in. Maecenas bibendum dictum consequat.
        </p>
      </div>

      <!-- Comment -->
      <div class="form-container">
        <h2 class="form-title">Add Your Comment</h2>
        <form action="" class="form-content">
          <input type="text" placeholder="Name" class="form-input" />
          <textarea
            name=""
            id=""
            cols="30"
            rows="10"
            placeholder="Comment"
            class="form-txtarea"
          ></textarea>
          <div class="form-containerCaptcha">
            <input type="text" placeholder="Captcha" class="form-input" />
            <p class="captcha-txt">What is x + y?</p>
          </div>
          <button class="form-btn" type="submit">Submit</button>
        </form>
      </div>

      <!-- Comments -->
      <div class="comments-container">
        <h2 class="comments-title">Comments (2)</h2>

        <div class="comments-content">
          <div class="comment-header">
            <h2 class="comment-name">Faisal</h2>
            <h4 class="comment-time">8th Jan 2023</h4>
          </div>
          <p class="comment-txt">
            Lorem ipsum dolor sit amet consectetur adipisicing elit. Quisquam
            voluptas, quod, quia, voluptates quae voluptatibus quibusdam
            voluptatum quos quidem quas nesciunt. Quisquam, quae.
          </p>
        </div>
        <div class="comments-content">
          <div class="comment-header">
            <h2 class="comment-name">Azwar</h2>
            <h4 class="comment-time">8th Jan 2023</h4>
          </div>
          <p class="comment-txt">
            Lorem ipsum dolor sit amet consectetur adipisicing elit. Quisquam
            voluptas, quod, quia, voluptates quae voluptatibus quibusdam
            voluptatum quos quidem quas nesciunt. Quisquam, quae.
          </p>
          <h2 id="comment-length"></h2>
        </div>
      </div>
    </div>
    <script>
      $.ajax({
        url: "/api/comment",
        type: "GET",
        success: function (data) {
          const comments = data;
          const commentLength = document.getElementById("comment-length");
          commentLength.innerHTML = `Comments (${comments.length})`;
          const commentContainer = document.getElementById("comments");
          comments.forEach((comment) => {
            const commentDiv = document.createElement("div");
            commentDiv.classList.add("comment");
            commentDiv.innerHTML = `
            <h3>${comment.name}</h3>
            <p class="date">${convertTimestamp(comment.date)}</p>
            <p>${comment.text}</p>
            `;
            commentContainer.appendChild(commentDiv);
          });
        },
      });
    </script>
  </body>
</html>
